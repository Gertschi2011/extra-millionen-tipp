<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Extra Millionen Tipp</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
</head>
<body class="container mt-4">
    <header>Extra Millionen Tipp</header>
<main>
    <!-- dein Inhalt hier -->
    <h1>Extra Millionen Tipp</h1>
    <div class="actions mb-3">
        <button class="btn btn-primary me-2" onclick="generateStatisticalTip()">Auto-Tipp (statistisch)</button>
        <button class="btn btn-secondary me-2" onclick="toggleStatistik()">Statistik ein-/ausblenden</button>
        <button class="btn btn-warning me-2" onclick="clearSelection()">ZurÃ¼cksetzen</button>
        <button class="btn btn-success" onclick="saveTip()">Tipp speichern</button>
        <button class="btn btn-dark me-2" onclick="toggleDarkMode()">ðŸŒ™ Dark Mode</button>
        <button class="btn btn-info" onclick="checkTipAgainstDraws()">Tipp Ã¼berprÃ¼fen</button>
    </div>

    <h2>WÃ¤hle 5 Hauptzahlen</h2>
    <div class="number-grid" id="numberGrid"></div>

    <h2>WÃ¤hle 2 Sternzahlen</h2>
    <div class="star-grid" id="starGrid"></div>

    <div id="savedTipsSection">
        <h3>Gespeicherte Tipps:</h3>
        <ul id="savedTipsList"></ul>
    </div>

    <div id="statistik">
        <canvas id="statistikChart" width="400" height="200"></canvas>
        <h3>HÃ¤ufigste Zahlen:</h3>
        <ul id="topNumbersList"></ul>
        <h3>HÃ¤ufigste Sterne:</h3>
        <ul id="topStarsList"></ul>
    </div>

</script>
<script>
// Dark Mode aktivieren
function toggleDarkMode() {
    document.body.classList.toggle("dark");
    localStorage.setItem("theme", document.body.classList.contains("dark") ? "dark" : "light");
}

// Theme beim Laden setzen
document.addEventListener("DOMContentLoaded", () => {
    if (localStorage.getItem("theme") === "dark") {
        document.body.classList.add("dark");
    }
});

// Tipp-Kombi gegen Ziehungen prÃ¼fen
function checkTipAgainstDraws() {
    const selectedMain = [...document.querySelectorAll('#numberGrid button.selected')].map(btn => parseInt(btn.textContent));
    const selectedStars = [...document.querySelectorAll('#starGrid button.selected')].map(btn => parseInt(btn.textContent));

    if (selectedMain.length !== 5 || selectedStars.length !== 2) {
        alert("Bitte wÃ¤hle genau 5 Zahlen und 2 Sterne aus.");
        return;
    }

    if (!window.ziehungen || ziehungen.length === 0) {
        alert("Ziehungsdaten noch nicht geladen.");
        return;
    }

    const match = ziehungen.find(draw =>
        selectedMain.every(n => draw.numbers.includes(n)) &&
        selectedStars.every(s => draw.stars.includes(s))
    );

    if (match) {
        alert(`Diese Kombination wurde bereits gezogen am ${match.date}!`);
    } else {
        alert("Diese Kombination wurde bisher noch nie gezogen.");
    }
}
</script>
</main>
</body>
</html>