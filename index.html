    // Heatmap-Visualisierung mit Chart.js
    function renderHeatmap() {
        fetch("./ziehungen.json")
            .then(res => res.json())
            .then(data => {
                const counts = {};
                data.forEach(z => z.numbers.forEach(n => counts[n] = (counts[n] || 0) + 1));
                const labels = Array.from({ length: 50 }, (_, i) => i + 1);
                const values = labels.map(n => counts[n] || 0);
                const max = Math.max(...values);
                const min = Math.min(...values);

                const ctx = document.getElementById("heatmapChart").getContext("2d");
                new Chart(ctx, {
                    type: "bar",
                    data: {
                        labels,
                        datasets: [{
                            label: "Ziehungen",
                            data: values,
                            backgroundColor: values.map(v => {
                                const ratio = (v - min) / (max - min || 1);
                                return `rgba(${255 - ratio * 100}, ${100 + ratio * 100}, 180, 0.8)`;
                            }),
                            borderRadius: 3,
                            barPercentage: 0.9,
                            categoryPercentage: 1.0
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: { display: false },
                            tooltip: {
                                callbacks: {
                                    label: ctx => `${ctx.label}: ${ctx.raw}x`
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: { stepSize: 10 }
                            }
                        }
                    }
                });
            });
    }